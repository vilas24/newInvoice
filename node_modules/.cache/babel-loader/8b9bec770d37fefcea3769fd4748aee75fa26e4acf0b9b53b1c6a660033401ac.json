{"ast":null,"code":"import _toConsumableArray from\"C:/Users/vilas/OneDrive/Desktop/react/POS/newInvoice/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/vilas/OneDrive/Desktop/react/POS/newInvoice/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import ReactPrint from'react-to-print';import{useRef,useState}from'react';import{Dialog,DialogTitle,DialogContent}from'@mui/material';import{Close}from'@mui/icons-material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function PdfTemplate(props){var ref=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openAirPopup=_useState2[0],setAirPopup=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),Item=_useState4[0],setItem=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),Amount=_useState6[0],setAmount=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),Quantity=_useState8[0],setQuantity=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),List=_useState10[0],setList=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),openAirPopup2=_useState12[0],setAirPopup2=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),Discount=_useState14[0],setDiscount=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),totalAmount=_useState16[0],setTotalAmount=_useState16[1];var addData=function addData(){if(!Item||Amount<=0||Quantity<=0){alert('Please enter valid product, amount, and quantity');return;}var totalItemAmount=Number(Amount)*Number(Quantity);// Calculate total for each item\nsetList([].concat(_toConsumableArray(List),[{product:Item,amount:Number(Amount),quantity:Number(Quantity),total:totalItemAmount}]));setItem('');setQuantity('');setAmount('');setAirPopup(false);};var sum=List.reduce(function(acc,item){return acc+item.total;},0);// Calculate the sum of all item totals\nvar addDiscount=function addDiscount(){if(Discount<0||Discount>100){alert('Please enter a valid discount percentage (0-100)');return;}var discountAmount=sum*Discount/100;setTotalAmount(sum-discountAmount);setAirPopup2(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",ref:ref,children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 text-center\",children:/*#__PURE__*/_jsx(\"h3\",{style:{color:'#325aa8'},children:\"REGENCY FRUITS & VEGETABLES\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h3\",{children:\"Leelaram Gupta\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h3\",{children:\"9821995732\"})})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h5\",{children:\"Description\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h5\",{children:\"Qty\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h5\",{children:\"Price\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h5\",{children:\"Total\"})})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[List.length?List.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.product}),/*#__PURE__*/_jsx(\"td\",{children:item.quantity}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20B9 \",item.amount]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20B9 \",item.total]})]},index);}):null,/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",className:\"text-right\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Total: \"})}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20B9 \",sum]})]}),Discount>0&&/*#__PURE__*/_jsxs(\"tr\",{style:{color:'#F81D2D'},children:[/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",className:\"text-right\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Discount:\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[Discount,\"%\"]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",className:\"text-right\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Payable Amount:\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20B9 \",totalAmount===0?sum:totalAmount]})]})]})]})})]})}),/*#__PURE__*/_jsx(ReactPrint,{trigger:function trigger(){return/*#__PURE__*/_jsx(\"button\",{children:\"Print\"});},content:function content(){return ref.current;},documentTitle:\"INVOICE \".concat(props.InvoiceNumber)}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setAirPopup(true);},children:\"Add Product\"}),/*#__PURE__*/_jsxs(Dialog,{open:openAirPopup,children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hed\",children:\"New Product\"}),/*#__PURE__*/_jsx(Close,{onClick:function onClick(){return setAirPopup(false);}})]})}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:Item,onChange:function onChange(e){return setItem(e.target.value);},placeholder:\"Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:Quantity,onChange:function onChange(e){return setQuantity(e.target.value);},placeholder:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:Amount,onChange:function onChange(e){return setAmount(e.target.value);},placeholder:\"Amount \\u20B9\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addData,children:\"Add\"})]})]})]});}export default PdfTemplate;","map":{"version":3,"names":["ReactPrint","useRef","useState","Dialog","DialogTitle","DialogContent","Close","PdfTemplate","props","ref","openAirPopup","setAirPopup","Item","setItem","Amount","setAmount","Quantity","setQuantity","List","setList","openAirPopup2","setAirPopup2","Discount","setDiscount","totalAmount","setTotalAmount","addData","alert","totalItemAmount","Number","product","amount","quantity","total","sum","reduce","acc","item","addDiscount","discountAmount","color","length","map","index","current","InvoiceNumber","e","target","value"],"sources":["C:/Users/vilas/OneDrive/Desktop/react/POS/newInvoice/src/PDF/Template.jsx"],"sourcesContent":["import ReactPrint from 'react-to-print';\r\nimport { useRef, useState } from 'react';\r\n\r\nimport { Dialog, DialogTitle, DialogContent } from '@mui/material';\r\nimport { Close } from '@mui/icons-material';\r\n\r\nfunction PdfTemplate(props) {\r\n    const ref = useRef();\r\n    const [openAirPopup, setAirPopup] = useState(false);\r\n    const [Item, setItem] = useState('');\r\n    const [Amount, setAmount] = useState(0);\r\n    const [Quantity, setQuantity] = useState('');\r\n    const [List, setList] = useState([]);\r\n    const [openAirPopup2, setAirPopup2] = useState(false);\r\n    const [Discount, setDiscount] = useState(0);\r\n    const [totalAmount, setTotalAmount] = useState(0);\r\n\r\n    const addData = () => {\r\n        if (!Item || Amount <= 0 || Quantity <= 0) {\r\n            alert('Please enter valid product, amount, and quantity');\r\n            return;\r\n        }\r\n        const totalItemAmount = Number(Amount) * Number(Quantity); // Calculate total for each item\r\n        setList([...List, { product: Item, amount: Number(Amount), quantity: Number(Quantity), total: totalItemAmount }]);\r\n        setItem('');\r\n        setQuantity('');\r\n        setAmount('');\r\n        setAirPopup(false);\r\n    };\r\n\r\n    let sum = List.reduce((acc, item) => acc + item.total, 0); // Calculate the sum of all item totals\r\n\r\n    const addDiscount = () => {\r\n        if (Discount < 0 || Discount > 100) {\r\n            alert('Please enter a valid discount percentage (0-100)');\r\n            return;\r\n        }\r\n        let discountAmount = (sum * Discount) / 100;\r\n        setTotalAmount(sum - discountAmount);\r\n        setAirPopup2(false);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container\" ref={ref}>\r\n                {/* Invoice Content */}\r\n                <div className=\"container\">\r\n                    <br />\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-12 text-center\">\r\n                            <h3 style={{ color: '#325aa8' }}>REGENCY FRUITS & VEGETABLES</h3>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"table\">\r\n                        <tr>\r\n                            <td>\r\n                                <h3>Leelaram Gupta</h3>\r\n                            </td>\r\n                            <td>\r\n                                <h3>9821995732</h3>\r\n                            </td>\r\n                        </tr>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                        <table className=\"table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th><h5>Description</h5></th>\r\n                                    <th><h5>Qty</h5></th>\r\n                                    <th><h5>Price</h5></th>\r\n                                    <th><h5>Total</h5></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {List.length ? List.map((item, index) => (\r\n                                    <tr key={index}>\r\n                                        <td>{item.product}</td>\r\n                                        <td>{item.quantity}</td>\r\n                                        <td>₹ {item.amount}</td>\r\n                                        <td>₹ {item.total}</td>\r\n                                    </tr>\r\n                                )) : null}\r\n                                <tr>\r\n                                    <td colSpan=\"3\" className=\"text-right\"><strong>Total: </strong></td>\r\n                                    <td>₹ {sum}</td>\r\n                                </tr>\r\n                                {Discount > 0 && (\r\n                                    <tr style={{ color: '#F81D2D' }}>\r\n                                        <td colSpan=\"3\" className=\"text-right\"><strong>Discount:</strong></td>\r\n                                        <td>{Discount}%</td>\r\n                                    </tr>\r\n                                )}\r\n                                <tr>\r\n                                    <td colSpan=\"3\" className=\"text-right\"><strong>Payable Amount:</strong></td>\r\n                                    <td>₹ {totalAmount === 0 ? sum : totalAmount}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    {/* <div className=\"details\">\r\n                        <p><b>Date :</b> {props.date}</p>\r\n                        <p><b>Mirza Aman</b></p>\r\n                        <p><b>Contact: 9821995732</b></p>\r\n                    </div> */}\r\n                </div>\r\n            </div>\r\n\r\n            <ReactPrint trigger={() => <button>Print</button>} content={() => ref.current} documentTitle={`INVOICE ${props.InvoiceNumber}`} />\r\n\r\n            <button onClick={() => setAirPopup(true)}>Add Product</button>\r\n            {/* {sum > 0 && <button onClick={() => setAirPopup2(true)}>Discount %</button>} */}\r\n\r\n            {/* Add Product Dialog */}\r\n            <Dialog open={openAirPopup}>\r\n                <DialogTitle>\r\n                    <div className=\"title\">\r\n                        <div className=\"hed\">New Product</div>\r\n                        <Close onClick={() => setAirPopup(false)} />\r\n                    </div>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <input type=\"text\" value={Item} onChange={(e) => setItem(e.target.value)} placeholder=\"Product Name\" />\r\n                    <input type=\"number\" value={Quantity} onChange={(e) => setQuantity(e.target.value)} placeholder=\"Quantity\" />\r\n                    <input type=\"number\" value={Amount} onChange={(e) => setAmount(e.target.value)} placeholder=\"Amount ₹\" />\r\n                    <button onClick={addData}>Add</button>\r\n                </DialogContent>\r\n            </Dialog>\r\n\r\n            {/* Discount Dialog */}\r\n            {/* <Dialog open={openAirPopup2}>\r\n                <DialogTitle>\r\n                    <div className=\"title\">\r\n                        <div className=\"hed\">Discount</div>\r\n                        <Close onClick={() => setAirPopup2(false)} />\r\n                    </div>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <input type=\"number\" value={Discount} onChange={(e) => setDiscount(e.target.value)} placeholder=\"Discount %\" />\r\n                    <button onClick={addDiscount}>Add</button>\r\n                </DialogContent>\r\n            </Dialog> */}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default PdfTemplate;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}